{
  final Flow flow=getLoginFlow();
  final ActionState actionState=createActionState(flow,"startSpnegoAuthenticate",createEvaluateAction("negociateSpnego"));
  actionState.getTransitionSet().add(createTransition(CasWebflowConstants.TRANSITION_ID_SUCCESS,"spnego"));
  final ActionState spnego=createActionState(flow,"spnego",createEvaluateAction("spnego"));
  spnego.getTransitionSet().add(createTransition(CasWebflowConstants.TRANSITION_ID_SUCCESS,CasWebflowConstants.TRANSITION_ID_SEND_TICKET_GRANTING_TICKET));
  spnego.getTransitionSet().add(createTransition(CasWebflowConstants.TRANSITION_ID_ERROR,getStartState(flow)));
  final ActionState evaluateClientRequest=createActionState(flow,"evaluateClientRequest",createEvaluateAction("hostNameClientActionStrategy"));
  evaluateClientRequest.getTransitionSet().add(createTransition(CasWebflowConstants.TRANSITION_ID_YES,"startSpnegoAuthenticate"));
  evaluateClientRequest.getTransitionSet().add(createTransition(CasWebflowConstants.TRANSITION_ID_NO,getStartState(flow)));
}
