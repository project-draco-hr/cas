{
  final Authentication a=TestUtils.getAuthentication();
  final TicketGrantingTicket t=new TicketGrantingTicketImpl("test",TestUtils.getAuthentication(),new NeverExpiresExpirationPolicy());
  final ServiceTicket s=t.grantServiceTicket(this.uniqueTicketIdGenerator.getNewTicketId(ServiceTicket.PREFIX),TestUtils.getService(),new MultiTimeUseOrTimeoutExpirationPolicy(1,5000),false);
  final TicketGrantingTicket t1=s.grantTicketGrantingTicket(this.uniqueTicketIdGenerator.getNewTicketId(TicketGrantingTicket.PREFIX),a,new NeverExpiresExpirationPolicy());
  assertEquals(a,t1.getAuthentication());
}
