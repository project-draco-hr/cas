{
  final Set<String> keys=this.ipMap.keySet();
  log.debug("Decrementing counts for throttler.  Starting key count: " + keys.size());
  final Date now=new Date();
  String key;
  for (final Iterator<String> iter=keys.iterator(); iter.hasNext(); ) {
    key=iter.next();
    if (submissionRate(now,this.ipMap.get(key)) < getThresholdRate()) {
      log.trace("Removing entry for key {}",key);
      iter.remove();
    }
  }
  log.debug("Done decrementing count for throttler.");
}
