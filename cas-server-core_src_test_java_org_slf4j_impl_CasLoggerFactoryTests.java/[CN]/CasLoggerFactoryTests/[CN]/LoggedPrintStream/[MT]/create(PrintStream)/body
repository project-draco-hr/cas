{
  try {
    final StringBuilder sb=new StringBuilder();
    final Field f=FilterOutputStream.class.getDeclaredField("out");
    f.setAccessible(true);
    final OutputStream psout=(OutputStream)f.get(toLog);
    return new LoggedPrintStream(new FilterOutputStream(psout){
      public void write(      final int b) throws IOException {
        super.write(b);
        final char c=(char)b;
        BUFFER.append(c);
      }
    }
,toLog);
  }
 catch (  final Exception e) {
    throw new RuntimeException(e);
  }
}
