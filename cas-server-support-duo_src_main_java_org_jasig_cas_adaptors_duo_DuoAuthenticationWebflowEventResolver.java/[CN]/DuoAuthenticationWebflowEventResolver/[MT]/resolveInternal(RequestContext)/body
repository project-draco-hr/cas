{
  try {
    final Credential credential=getCredentialFromContext(requestContext);
    AuthenticationResultBuilder builder=WebUtils.getAuthenticationResultBuilder(requestContext);
    builder=this.authenticationSystemSupport.handleAuthenticationTransaction(builder,credential);
    final Service service=WebUtils.getService(requestContext);
    return ImmutableSet.of(grantTicketGrantingTicketToAuthenticationResult(requestContext,builder,service));
  }
 catch (  final Exception e) {
    logger.error(e.getMessage(),e);
    return ImmutableSet.of(new Event(this,"error"));
  }
}
