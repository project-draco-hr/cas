{
  OAuthCredentials credential=(OAuthCredentials)credentials;
  logger.debug("credential : {}",credential);
  String providerType=credential.getProviderType();
  logger.debug("providerType : {}",providerType);
  OAuthProvider provider=OAuthUtils.getProviderByType(providers,providerType);
  logger.debug("provider : {}",provider);
  Token accessToken=provider.getAccessToken(credential);
  logger.debug("accessToken : {}",accessToken);
  UserProfile userProfile=provider.getUserProfile(accessToken);
  logger.debug("userProfile : {}",userProfile);
  if (userProfile != null && StringUtils.isNotBlank(userProfile.getId())) {
    credential.setUserProfile(userProfile);
    return true;
  }
 else {
    return false;
  }
}
