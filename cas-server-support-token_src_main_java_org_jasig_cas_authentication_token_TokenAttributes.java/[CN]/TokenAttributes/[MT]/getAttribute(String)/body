{
  final String attributeName=attribute.trim().toLowerCase();
  LOGGER.debug("Getting token attribute [{}]",attributeName);
  if (this.tokenAttributesMap != null && !this.tokenAttributesMap.isEmpty()) {
    final String attributeValue=this.tokenAttributesMap.get(attributeName);
    if (StringUtils.isBlank(attributeValue)) {
      LOGGER.debug("Token attribute [{}] has not defined a value in the attributes map. CAS will use [{}] as the value",attributeName,attributeName);
      return attributeName;
    }
    LOGGER.debug("Retrieved token attribute value from attribute map [{}]",attributeValue);
    return attributeValue;
  }
  LOGGER.debug("Token attributes map is undefined, so CAS will use [{}] instead",attributeName);
  return attributeName;
}
