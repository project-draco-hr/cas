{
  final MockService testService=new MockService("test");
  TicketGrantingTicket t=new TicketGrantingTicketImpl("test",null,TestUtils.getAuthentication(),new NeverExpiresExpirationPolicy());
  t.grantServiceTicket(this.uniqueTicketIdGenerator.getNewTicketId(ServiceTicket.PREFIX),testService,new NeverExpiresExpirationPolicy(),false);
  Collection<TicketedService> services=t.getServices();
  assertEquals(1,services.size());
  TicketedService service=services.iterator().next();
  assertEquals(testService,service.getService());
  t.removeAllServices();
  services=t.getServices();
  assertEquals(0,services.size());
}
