{
  Connection conn=null;
  try {
    conn=this.connectionFactory.getConnection();
    if (!conn.isOpen()) {
      conn.open();
    }
    return this.validator.validate(conn) ? OK : ERROR;
  }
 catch (  final LdapException e) {
    logger.warn("Validation failed with error.",e);
  }
 finally {
    LdapUtils.closeConnection(conn);
  }
  return ERROR;
}
