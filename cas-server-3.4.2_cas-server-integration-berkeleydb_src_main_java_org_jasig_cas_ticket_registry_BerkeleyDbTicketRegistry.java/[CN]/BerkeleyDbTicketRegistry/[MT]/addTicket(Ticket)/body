{
  Assert.notNull(ticket,"ticket cannot be null");
  if (log.isDebugEnabled()) {
    log.debug("Added ticket [" + ticket.getId() + "] to registry.");
  }
  final DatabaseEntry dataEntry=new DatabaseEntry();
  try {
    this.ticketBinding.objectToEntry(ticket,dataEntry);
    final OperationStatus status=this.ticketDb.put(null,getKeyFromString(ticket.getId()),dataEntry);
    if (status != OperationStatus.SUCCESS) {
      throw new DatabaseException("Data insertion got status " + status);
    }
  }
 catch (  final DatabaseException e) {
    throw new RuntimeException("Ticket Registry DB failed to add ticket : " + ticket,e);
  }
}
