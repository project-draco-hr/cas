{
  final Ticket ticket=(Ticket)pjp.getArgs()[0];
  if (!this.enabled) {
    logger.info("Ticket encoding is disabled. Proceeding as usual...");
    pjp.proceed(pjp.getArgs());
  }
 else {
    logger.info("Encoding [{}]",ticket);
    final String encodedTicketObject=CompressionUtils.encodeObject(ticket,cipherExecutor);
    final String encodedTicketId=CompressionUtils.encodeBase64(ticket.getId().getBytes());
    final EncodedTicket encodedTicket=new EncodedTicket(ticket,encodedTicketObject,encodedTicketId);
    logger.info("Created [{}]",ticket);
    pjp.proceed(new Object[]{encodedTicket});
  }
}
