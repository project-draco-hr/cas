{
  final Map<String,Object> attributes=assertion.getPrimaryAuthentication().getAttributes();
  final Object o=attributes.get(RememberMeCredential.AUTHENTICATION_ATTRIBUTE_REMEMBER_ME);
  final boolean isRemembered=(o == Boolean.TRUE && !assertion.isFromNewLogin());
  final ModelAndView success=new ModelAndView(this.successView);
  success.addObject(VALIDATION_CAS_MODEL_ASSERTION,assertion);
  success.addObject(CasProtocolConstants.VALIDATION_CAS_MODEL_PROXY_GRANTING_TICKET_IOU,proxyIou);
  success.addObject(CasProtocolConstants.VALIDATION_REMEMBER_ME_ATTRIBUTE_NAME,isRemembered);
  final Map<String,?> augmentedModelObjects=augmentSuccessViewModelObjects(assertion);
  if (augmentedModelObjects != null) {
    success.addAllObjects(augmentedModelObjects);
  }
  return success;
}
