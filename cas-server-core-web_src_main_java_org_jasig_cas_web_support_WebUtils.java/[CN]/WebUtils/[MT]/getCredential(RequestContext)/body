{
  final Credential cFromRequest=(Credential)context.getRequestScope().get("credential");
  final Credential cFromFlow=(Credential)context.getFlowScope().get("credential");
  final Credential credential=cFromRequest != null ? cFromRequest : cFromFlow;
  if (credential != null && StringUtils.isBlank(credential.getId())) {
    return null;
  }
  return credential;
}
