{
  BufferedReader bufferedReader=null;
  try {
    bufferedReader=new BufferedReader(new InputStreamReader(this.fileName.getInputStream()));
    String line=bufferedReader.readLine();
    while (line != null) {
      final String[] lineFields=line.split(this.separator);
      final String userOnRecord=lineFields[0];
      final String passOnRecord=lineFields[1];
      if (username.equals(userOnRecord)) {
        return passOnRecord;
      }
      line=bufferedReader.readLine();
    }
  }
  finally {
    try {
      if (bufferedReader != null) {
        bufferedReader.close();
      }
    }
 catch (    final IOException e) {
      log.error("Error closing credential file",e);
    }
  }
  return null;
}
