{
  final DirContextAdapter ctx=lookupCtx(findDn(this.ldapServiceMapper.getSearchFilter(registeredService.getId()).encode()));
  if (ctx == null) {
    return null;
  }
  this.ldapServiceMapper.doMapToContext(registeredService,ctx);
  final String dn=ctx.getNameInNamespace();
  final ModificationItem[] modItems=ctx.getModificationItems();
  if (log.isDebugEnabled()) {
    log.debug("Attemting to perform modify operations on " + dn);
    for (    final ModificationItem modItem : modItems) {
      log.debug(modItem.toString());
    }
  }
  this.ldapTemplate.modifyAttributes(dn,modItems);
  return registeredService;
}
