{
  final List results=this.ldapTemplate.search(this.serviceBaseDn,filter,SearchControls.SUBTREE_SCOPE,new String[0],new ContextMapper(){
    public Object mapFromContext(    final Object ctx){
      return ((DirContextAdapter)ctx).getNameInNamespace();
    }
  }
);
  if (results == null || results.isEmpty()) {
    return null;
  }
 else   if (results.size() == 1 || this.ignoreMultipleSearchResults) {
    return (String)results.get(0);
  }
 else {
    throw new RuntimeException("Multiple results returned by LDAP Server for Filter " + filter);
  }
}
