{
  final OpenSamlConfigBean configBean=ApplicationContextProvider.getApplicationContext().getBean(OpenSamlConfigBean.class);
  final List<MetadataResolver> resolvers=new ArrayList<>();
  final Element metadataRoot=document.getDocumentElement();
  final DOMMetadataResolver metadataProvider=new DOMMetadataResolver(metadataRoot);
  metadataProvider.setParserPool(configBean.getParserPool());
  metadataProvider.setFailFastInitialization(true);
  metadataProvider.setRequireValidMetadata(true);
  metadataProvider.setId(metadataProvider.getClass().getCanonicalName());
  logger.debug("Initializing metadata resolver for [{}]",this.metadataLocationResource.getURL());
  try {
    metadataProvider.initialize();
  }
 catch (  final ComponentInitializationException ex) {
    logger.warn("Could not initialize metadata resolver. Resource will be ignored",ex);
  }
  resolvers.add(metadataProvider);
  return resolvers;
}
