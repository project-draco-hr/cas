{
  try {
    if (StringUtils.isNotBlank(this.cachedCredential)) {
      logger.debug("Retrieved the password as an authentication attribute...");
      final byte[] cipherData=this.cipher.doFinal(this.cachedCredential.getBytes());
      final String encPassword=CompressionUtils.encodeBase64(cipherData);
      attributes.put(CasViewConstants.MODEL_ATTRIBUTE_NAME_PRINCIPAL_CREDENTIAL,encPassword);
      logger.debug("Encrypted and encoded password as an authentication attribute.");
    }
 else {
      logger.debug("Credential is not available as an authentication attribute to encrypt...");
    }
  }
 catch (  final Exception e) {
    throw new RuntimeException(e);
  }
}
