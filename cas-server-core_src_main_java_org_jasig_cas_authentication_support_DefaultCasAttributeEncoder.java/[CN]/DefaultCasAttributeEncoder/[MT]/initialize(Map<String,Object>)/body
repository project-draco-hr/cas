{
  this.cachedAttributesToEncode.clear();
  Collection<?> collection=(Collection<?>)attributes.remove(CasViewConstants.MODEL_ATTRIBUTE_NAME_PRINCIPAL_CREDENTIAL);
  if (collection != null && collection.size() == 1) {
    this.cachedAttributesToEncode.put(CasViewConstants.MODEL_ATTRIBUTE_NAME_PRINCIPAL_CREDENTIAL,collection.iterator().next().toString());
    logger.debug("Removed credential as an authentication attribute and cached it locally.");
  }
  collection=(Collection<?>)attributes.remove(CasViewConstants.MODEL_ATTRIBUTE_NAME_PROXY_GRANTING_TICKET);
  if (collection != null && collection.size() == 1) {
    this.cachedAttributesToEncode.put(CasViewConstants.MODEL_ATTRIBUTE_NAME_PROXY_GRANTING_TICKET,collection.iterator().next().toString());
    logger.debug("Removed PGT as an authentication attribute and cached it locally.");
  }
}
