{
  logger.debug("Ensure that indexes exist in bucket {}.",bucket.name());
  final DesignDocument newDocument=DesignDocument.create(documentName,views);
  if (!newDocument.equals(bucket.bucketManager().getDesignDocument(documentName))) {
    logger.warn("Missing indexes in bucket {} for document {}, creating new.",bucket.name(),documentName);
    bucket.bucketManager().upsertDesignDocument(newDocument);
  }
}
