{
  final String encTicketId=encodeTicketId(ticketId);
  logger.debug("Removing ticket [{}]",encTicketId);
  final Ticket ticket=getTicket(encTicketId);
  if (ticket == null) {
    return false;
  }
  if (ticket instanceof TicketGrantingTicket) {
    logger.debug("Removing ticket [{}] and its children from the registry.",ticket);
    deleteChildren((TicketGrantingTicket)ticket);
  }
  logger.debug("Removing ticket [{}] from the registry.",ticket);
  return (this.registry.remove(encTicketId) != null);
}
