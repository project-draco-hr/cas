{
  final BindModeSearchDatabaseAuthenticationHandler h=new BindModeSearchDatabaseAuthenticationHandler();
  h.setDataSource(Beans.newHickariDataSource(b));
  h.setPasswordEncoder(Beans.newPasswordEncoder(b.getPasswordEncoder()));
  if (bindSearchPasswordPolicyConfiguration != null) {
    h.setPasswordPolicyConfiguration(bindSearchPasswordPolicyConfiguration);
  }
  if (bindSearchPrincipalNameTransformer != null) {
    h.setPrincipalNameTransformer(bindSearchPrincipalNameTransformer);
  }
  h.setPrincipalFactory(jdbcPrincipalFactory());
  h.setServicesManager(servicesManager);
  return h;
}
