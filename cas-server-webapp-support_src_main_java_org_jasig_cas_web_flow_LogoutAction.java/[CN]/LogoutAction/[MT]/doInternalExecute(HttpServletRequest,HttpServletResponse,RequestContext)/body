{
  boolean needFrontSlo=false;
  putLogoutIndex(context,0);
  final List<LogoutRequest> logoutRequests=WebUtils.getLogoutRequests(context);
  if (logoutRequests != null) {
    for (    LogoutRequest logoutRequest : logoutRequests) {
      if (logoutRequest.getStatus() == LogoutRequestStatus.NOT_ATTEMPTED) {
        needFrontSlo=true;
        break;
      }
    }
  }
  final String service=request.getParameter("service");
  if (this.followServiceRedirects && service != null) {
    final RegisteredService rService=this.servicesManager.findServiceBy(new SimpleWebApplicationServiceImpl(service));
    if (rService != null && rService.isEnabled()) {
      context.getFlowScope().put("logoutRedirectUrl",service);
    }
  }
  if (needFrontSlo) {
    return new Event(this,FRONT_EVENT);
  }
 else {
    return new Event(this,FINISH_EVENT);
  }
}
