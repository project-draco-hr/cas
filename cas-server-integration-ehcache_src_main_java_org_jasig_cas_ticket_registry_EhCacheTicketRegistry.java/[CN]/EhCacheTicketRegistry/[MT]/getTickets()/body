{
  final Collection<Element> serviceTickets=this.serviceTicketsCache.getAll(this.serviceTicketsCache.getKeysWithExpiryCheck()).values();
  final Collection<Element> tgtTicketsTickets=this.ticketGrantingTicketsCache.getAll(this.ticketGrantingTicketsCache.getKeysWithExpiryCheck()).values();
  final Collection<Ticket> allTickets=new HashSet<Ticket>(serviceTickets.size() + tgtTicketsTickets.size());
  Iterator<Element> it=serviceTickets.iterator();
  while (it.hasNext()) {
    allTickets.add((Ticket)it.next().getObjectValue());
  }
  it=tgtTicketsTickets.iterator();
  while (it.hasNext()) {
    allTickets.add((Ticket)it.next().getObjectValue());
  }
  return allTickets;
}
