{
  try {
    final ServiceTicket serviceTicketId=this.cas.grantServiceTicket(tgtId,new WebApplicationServiceFactory().createService(requestBody.getFirst(CasProtocolConstants.PARAMETER_SERVICE)));
    return new ResponseEntity<String>(serviceTicketId.getId(),HttpStatus.OK);
  }
 catch (  final InvalidTicketException e) {
    return new ResponseEntity<String>("TicketGrantingTicket could not be found",HttpStatus.NOT_FOUND);
  }
catch (  final Exception e) {
    LOGGER.error(e.getMessage(),e);
    return new ResponseEntity<String>(e.getMessage(),HttpStatus.BAD_REQUEST);
  }
}
