{
  final String expirationDate=getPasswordPolicyAttributeValue(entry,this.passwordExpirationDateAttributeName);
  if (StringUtils.isBlank(expirationDate)) {
    log.warn("Password expiration date is null.");
    return false;
  }
  setDn(entry.getDn());
  setPasswordExpirationDateAttributeName(this.passwordExpirationDateAttributeName);
  setPasswordExpirationDate(expirationDate);
  setPasswordWarningNumberOfDays(this.defaultPasswordWarningNumberOfDays);
  setValidPasswordNumberOfDays(this.defaultValidPasswordNumberOfDays);
  String attributeValue=getPasswordPolicyAttributeValue(entry,this.passwordWarningNumberOfDaysAttributeName);
  if (attributeValue != null) {
    if (NumberUtils.isNumber(attributeValue)) {
      setPasswordWarningNumberOfDays(Integer.parseInt(attributeValue));
    }
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.ignorePasswordExpirationWarningAttributeName);
  if (attributeValue != null) {
    setIgnorePasswordExpirationWarningAttributeName(attributeValue);
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.validPasswordNumberOfDaysAttributeName);
  if (attributeValue != null) {
    if (NumberUtils.isNumber(attributeValue)) {
      setValidPasswordNumberOfDays(Integer.parseInt(attributeValue));
    }
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.accountDisabledAttributeName);
  if (attributeValue != null) {
    setAccountDisabled(Boolean.valueOf(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.accountLockedAttributeName);
  if (attributeValue != null) {
    setAccountLocked(Boolean.valueOf(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.accountPasswordMustChangeAttributeName);
  if (attributeValue != null) {
    setAccountPasswordMustChange(Boolean.valueOf(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,this.userAccountControlAttributeName);
  if (attributeValue != null) {
    setUserAccountControl(attributeValue);
  }
  return true;
}
