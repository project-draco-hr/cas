{
  final String expirationDate=getPasswordPolicyAttributeValue(entry,getPasswordExpirationDateAttributeName());
  if (StringUtils.isBlank(expirationDate)) {
    log.warn("Password expiration date [{}] is null.",getPasswordExpirationDateAttributeName());
    return false;
  }
  setDn(entry.getDn());
  setPasswordExpirationDate(expirationDate);
  setPasswordWarningNumberOfDays(this.defaultPasswordWarningNumberOfDays);
  setValidPasswordNumberOfDays(this.defaultValidPasswordNumberOfDays);
  String attributeValue=getPasswordPolicyAttributeValue(entry,getPasswordWarningNumberOfDaysAttributeName());
  if (attributeValue != null) {
    if (NumberUtils.isNumber(attributeValue)) {
      setPasswordWarningNumberOfDays(Integer.parseInt(attributeValue));
    }
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,getIgnorePasswordExpirationWarningAttributeName());
  if (attributeValue != null) {
    setIgnorePasswordExpirationWarning(attributeValue);
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,getValidPasswordNumberOfDaysAttributeName());
  if (attributeValue != null) {
    setValidPasswordNumberOfDays(NumberUtils.toInt(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,getAccountDisabledAttributeName());
  if (attributeValue != null) {
    setAccountDisabled(translateValueToBoolean(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,getAccountLockedAttributeName());
  if (attributeValue != null) {
    setAccountLocked(translateValueToBoolean(attributeValue));
  }
  attributeValue=getPasswordPolicyAttributeValue(entry,getAccountPasswordMustChangeAttributeName());
  if (attributeValue != null) {
    setAccountPasswordMustChange(translateValueToBoolean(attributeValue));
  }
  return buildInternal(entry);
}
