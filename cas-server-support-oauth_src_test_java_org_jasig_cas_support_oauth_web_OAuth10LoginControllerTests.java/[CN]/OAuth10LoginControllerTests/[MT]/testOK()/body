{
  final TwitterProvider twitterProvider=new TwitterProvider();
  twitterProvider.setKey("OPEWaSoTuAe49K4dSoRvNw");
  twitterProvider.setSecret("aKmvleltXAmLKcnlMgzRjTsCnhV3QVMVDh153xJttCo");
  final MockHttpServletRequest mockRequest=new MockHttpServletRequest("GET",MY_LOGIN_URL);
  mockRequest.setParameter(ProvidersDefinition.DEFAULT_PROVIDER_TYPE_PARAMETER,twitterProvider.getType());
  final MockHttpServletResponse mockResponse=new MockHttpServletResponse();
  final ProvidersDefinition providersDefinition=new ProvidersDefinition(twitterProvider);
  providersDefinition.setBaseUrl(MY_LOGIN_URL);
  providersDefinition.init();
  final OAuth10LoginController oAuth10LoginController=new OAuth10LoginController(providersDefinition);
  final ModelAndView modelAndView=oAuth10LoginController.handleRequest(mockRequest,mockResponse);
  final View view=modelAndView.getView();
  assertTrue(view instanceof RedirectView);
  final RedirectView redirectView=(RedirectView)view;
  assertTrue(redirectView.getUrl().startsWith("https://api.twitter.com/oauth/authenticate?oauth_token="));
}
