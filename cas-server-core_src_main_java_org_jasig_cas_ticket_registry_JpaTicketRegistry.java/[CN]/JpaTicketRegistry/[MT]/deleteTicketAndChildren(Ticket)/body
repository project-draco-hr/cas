{
  final Map<String,Object> params=new HashMap<String,Object>();
  params.put("id",ticket.getId());
  final List<TicketGrantingTicketImpl> ticketGrantingTicketImpls=this.jpaTemplate.findByNamedParams("select t from TicketGrantingTicketImpl t where t.ticketGrantingTicket.id = :id",params);
  final List<ServiceTicketImpl> serviceTicketImpls=this.jpaTemplate.findByNamedParams("select s from ServiceTicketImpl s where s.ticketGrantingTicket.id = :id",params);
  for (  final ServiceTicketImpl s : serviceTicketImpls) {
    removeTicket(s);
  }
  for (  final TicketGrantingTicketImpl t : ticketGrantingTicketImpls) {
    deleteTicketAndChildren(t);
  }
  removeTicket(ticket);
}
