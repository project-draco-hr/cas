{
  if (this.connectionFactory != null && this.validator != null) {
    try (final Connection conn=this.connectionFactory.getConnection()){
      if (!conn.isOpen()) {
        conn.open();
      }
      return this.validator.validate(conn) ? OK : ERROR;
    }
 catch (    final LdapException e) {
      logger.warn("Validation failed with error.",e);
    }
    return ERROR;
  }
  return Status.UNKNOWN;
}
