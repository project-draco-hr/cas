{
  final MockHttpServletRequest request=new MockHttpServletRequest();
  final MockHttpServletResponse response=new MockHttpServletResponse();
  final RegisteredServiceImpl r=new RegisteredServiceImpl();
  r.setId(1000);
  r.setServiceId("test");
  r.setDescription("description");
  this.manager.save(r);
  request.addParameter("description","description");
  request.addParameter("serviceId","serviceId1");
  request.addParameter("name","name");
  request.addParameter("theme","theme");
  request.addParameter("allowedToProxy","true");
  request.addParameter("enabled","true");
  request.addParameter("ssoEnabled","true");
  request.addParameter("anonymousAccess","false");
  request.addParameter("evaluationOrder","2");
  request.addParameter("id","1000");
  request.setMethod("POST");
  this.controller.handleRequest(request,response);
  assertFalse(this.manager.getAllServices().isEmpty());
  final RegisteredService r2=this.manager.findServiceBy(1000);
  assertEquals("serviceId1",r2.getServiceId());
}
