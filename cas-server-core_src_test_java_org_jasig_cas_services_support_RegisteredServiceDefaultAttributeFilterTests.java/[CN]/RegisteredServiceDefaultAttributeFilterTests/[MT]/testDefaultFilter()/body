{
  when(this.registeredService.isIgnoreAttributes()).thenReturn(false);
  Map<String,Object> map=this.filter.filter("uid",this.givenAttributesMap);
  assertEquals(map.size(),3);
  when(this.registeredService.isIgnoreAttributes()).thenReturn(true);
  map=this.filter.filter("uid",this.givenAttributesMap);
  assertEquals(map.size(),this.givenAttributesMap.size());
  assertEquals(map,this.givenAttributesMap);
  @SuppressWarnings("unchecked") final List<String> memberOfAttr=(List<String>)map.get("memberOf");
  assertEquals(memberOfAttr.size(),((List<?>)this.givenAttributesMap.get("memberOf")).size());
}
