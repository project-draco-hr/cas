{
  final RegisteredServiceBean bean=new RegisteredServiceBean();
  bean.setAssignedId(svc.getId());
  bean.setServiceId(svc.getServiceId());
  bean.setName(svc.getName());
  bean.setDescription(svc.getDescription());
  if (svc.getLogo() != null) {
    bean.setLogoUrl(svc.getLogo().toExternalForm());
  }
  final RegisteredServiceProxyPolicy policy=svc.getProxyPolicy();
  final ProxyPolicy proxyPolicyBean=bean.getProxyPolicy();
  if (policy instanceof RefuseRegisteredServiceProxyPolicy) {
    final RefuseRegisteredServiceProxyPolicy refuse=(RefuseRegisteredServiceProxyPolicy)policy;
    proxyPolicyBean.setType(ProxyPolicy.Types.REFUSE.toString());
  }
 else   if (policy instanceof RegexMatchingRegisteredServiceProxyPolicy) {
    final RegexMatchingRegisteredServiceProxyPolicy option=(RegexMatchingRegisteredServiceProxyPolicy)policy;
    proxyPolicyBean.setType(ProxyPolicy.Types.ALLOW.toString());
    proxyPolicyBean.setValue(option.getPattern().toString());
  }
  final AbstractAttributeReleasePolicy attrPolicy=(AbstractAttributeReleasePolicy)svc.getAttributeReleasePolicy();
  final AttributeReleasePolicy attrPolicyBean=bean.getAttrRelease();
  attrPolicyBean.setReleasePassword(attrPolicy.isAuthorizedToReleaseCredentialPassword());
  attrPolicyBean.setReleaseTicket(attrPolicy.isAuthorizedToReleaseProxyGrantingTicket());
  if (attrPolicy instanceof ReturnAllAttributeReleasePolicy) {
    attrPolicyBean.getAttrPolicy().setType(AttributeReleasePolicy.ReleasePolicyStrategy.Types.ALL.toString());
  }
 else   if (attrPolicy instanceof ReturnAllowedAttributeReleasePolicy) {
    attrPolicyBean.getAttrPolicy().setType(AttributeReleasePolicy.ReleasePolicyStrategy.Types.ALLOWED.toString());
  }
 else   if (attrPolicy instanceof ReturnMappedAttributeReleasePolicy) {
    attrPolicyBean.getAttrPolicy().setType(AttributeReleasePolicy.ReleasePolicyStrategy.Types.MAPPED.toString());
  }
  bean.setSasCASEnabled(svc.getAccessStrategy().isServiceAccessAllowed());
  return bean;
}
