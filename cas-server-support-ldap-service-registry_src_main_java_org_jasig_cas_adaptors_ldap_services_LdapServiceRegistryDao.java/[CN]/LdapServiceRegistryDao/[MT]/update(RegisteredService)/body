{
  if (ldapServiceMapper == null || searchRequest == null) {
    return null;
  }
  try (final Connection searchConnection=getConnection()){
    final Response<SearchResult> response=searchForServiceById(searchConnection,rs.getId());
    if (hasResults(response)) {
      final String currentDn=response.getResult().getEntry().getDn();
      try (final Connection modifyConnection=getConnection()){
        final ModifyOperation operation=new ModifyOperation(modifyConnection);
        final List<AttributeModification> mods=new ArrayList<>();
        final LdapEntry entry=this.ldapServiceMapper.mapFromRegisteredService(this.searchRequest.getBaseDn(),rs);
        for (        final LdapAttribute attr : entry.getAttributes()) {
          if (!attr.getName().equals(this.ldapServiceMapper.getIdAttribute())) {
            mods.add(new AttributeModification(AttributeModificationType.REPLACE,attr));
          }
        }
        final ModifyRequest request=new ModifyRequest(currentDn,mods.toArray(new AttributeModification[]{}));
        operation.execute(request);
      }
 catch (      final LdapException e) {
        logger.error(e.getMessage(),e);
      }
    }
  }
 catch (  final LdapException e) {
    logger.error(e.getMessage(),e);
  }
  return rs;
}
