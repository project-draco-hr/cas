{
  final Map<String,Object> sessionsMap=new HashMap<String,Object>(1);
  Collection<Map<String,Object>> activeSessions=null;
  String jsonRepresentation=null;
  try {
    activeSessions=this.singleSignOnSessionsReport.getActiveSsoSessions();
    sessionsMap.put(ROOT_REPORT_ACTIVE_SESSIONS_KEY,activeSessions);
  }
 catch (  final Exception e) {
    LOGGER.warn(e.getMessage(),e.getCause());
    sessionsMap.put(ROOT_REPORT_NA_KEY,e.getMessage());
  }
  try {
    jsonRepresentation=this.jsonMapper.writeValueAsString(sessionsMap);
  }
 catch (  final JsonProcessingException e) {
    LOGGER.error("An exception has been caught during an attempt to serialize <active sso sessions report>",e);
    return Response.serverError().build();
  }
  return Response.ok(jsonRepresentation).build();
}
