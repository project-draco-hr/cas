{
  kryo.register(ArrayList.class);
  kryo.register(BasicCredentialMetaData.class);
  kryo.register(Class.class,new ClassSerializer(kryo));
  kryo.register(Date.class,new DateSerializer());
  kryo.register(HardTimeoutExpirationPolicy.class);
  kryo.register(HashMap.class);
  kryo.register(HandlerResult.class);
  kryo.register(ImmutableAuthentication.class);
  kryo.register(MultiTimeUseOrTimeoutExpirationPolicy.class);
  kryo.register(NeverExpiresExpirationPolicy.class);
  kryo.register(RememberMeDelegatingExpirationPolicy.class);
  kryo.register(ServiceTicketImpl.class);
  kryo.register(SimpleWebApplicationServiceImpl.class,new SimpleWebApplicationServiceSerializer(kryo));
  kryo.register(ThrottledUseAndTimeoutExpirationPolicy.class);
  kryo.register(TicketGrantingTicketExpirationPolicy.class);
  kryo.register(TicketGrantingTicketImpl.class);
  kryo.register(TimeoutExpirationPolicy.class);
  kryo.register(URL.class,new URLSerializer(kryo));
  kryo.register(RegisteredServiceImpl.class,new RegisteredServiceSerializer(kryo));
  kryo.register(RegexRegisteredService.class,new RegisteredServiceSerializer(kryo));
  if (serializerMap != null) {
    for (    final Map.Entry<Class<?>,Serializer> clazz : serializerMap.entrySet()) {
      kryo.register(clazz.getKey(),clazz.getValue());
    }
  }
  kryo.setRegistrationOptional(true);
}
