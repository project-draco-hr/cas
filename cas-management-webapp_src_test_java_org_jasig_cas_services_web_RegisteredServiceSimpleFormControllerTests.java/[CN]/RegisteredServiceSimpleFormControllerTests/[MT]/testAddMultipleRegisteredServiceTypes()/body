{
  AbstractRegisteredService svc=new RegexRegisteredService();
  svc.setDescription("description");
  svc.setServiceId("^serviceId");
  svc.setName("name");
  svc.setId(1000);
  svc.setEvaluationOrder(1000);
  this.controller.onSubmit(svc,mock(BindingResult.class),new ModelMap(),new MockHttpServletRequest());
  svc=new RegisteredServiceImpl();
  svc.setDescription("description");
  svc.setServiceId("^serviceId");
  svc.setName("name");
  svc.setId(100);
  svc.setEvaluationOrder(100);
  this.controller.onSubmit(svc,mock(BindingResult.class),new ModelMap(),new MockHttpServletRequest());
  final Collection<RegisteredService> services=this.manager.getAllServices();
  assertEquals(2,services.size());
  for (  RegisteredService rs : this.manager.getAllServices()) {
    if (rs.getName().equals("ant")) {
      assertTrue(rs instanceof RegisteredServiceImpl);
    }
 else     if (rs.getName().equals("regex")) {
      assertTrue(rs instanceof RegexRegisteredService);
    }
  }
}
