{
  final Set<String> providers=service.getAuthenticationPolicy().getMultifactorAuthenticationProviders();
  final Set<MultifactorAuthenticationProvider> providersSet=new HashSet<>(providers.size());
  for (  final String provider : providers) {
    final MultifactorAuthenticationProvider providerClass=loadMultifactorAuthenticationProvider(provider);
    if (providerClass != null) {
      logger.debug("Added multifactor authentication provider {} as an available provider for {}",providerClass,service);
      providersSet.add(providerClass);
    }
  }
  return providersSet;
}
