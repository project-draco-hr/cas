{
  try {
    final String logoutRequest=this.logoutMessageBuilder.create(request);
    final SingleLogoutService logoutService=request.getService();
    logoutService.setLoggedOutAlready(true);
    LOGGER.debug("Sending logout request for: [{}]",logoutService.getId());
    URL logoutUrl=new URL(logoutService.getOriginalUrl());
    if (registeredService.getLogoutUrl() != null) {
      LOGGER.debug("Logout request will be sent to [{}] for service [{}]",registeredService.getLogoutUrl(),logoutService);
      logoutUrl=registeredService.getLogoutUrl();
    }
    final LogoutHttpMessage msg=new LogoutHttpMessage(logoutUrl,logoutRequest);
    LOGGER.debug("Prepared logout message to send is [{}]",msg);
    return this.httpClient.sendMessageToEndPoint(msg);
  }
 catch (  final Exception e) {
    LOGGER.error(e.getMessage(),e);
  }
  return false;
}
