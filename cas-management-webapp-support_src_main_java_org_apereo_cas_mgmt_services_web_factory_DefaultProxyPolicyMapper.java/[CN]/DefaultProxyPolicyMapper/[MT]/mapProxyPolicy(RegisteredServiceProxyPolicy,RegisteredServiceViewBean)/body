{
  final RegisteredServiceProxyPolicyBean proxyPolicyBean=bean.getProxyPolicy();
  if (policy instanceof RefuseRegisteredServiceProxyPolicy) {
    proxyPolicyBean.setType(RegisteredServiceProxyPolicyBean.Types.REFUSE.toString());
  }
 else   if (policy instanceof RegexMatchingRegisteredServiceProxyPolicy) {
    final RegexMatchingRegisteredServiceProxyPolicy option=(RegexMatchingRegisteredServiceProxyPolicy)policy;
    proxyPolicyBean.setType(RegisteredServiceProxyPolicyBean.Types.REGEX.toString());
    proxyPolicyBean.setValue(option.getPattern().toString());
  }
}
