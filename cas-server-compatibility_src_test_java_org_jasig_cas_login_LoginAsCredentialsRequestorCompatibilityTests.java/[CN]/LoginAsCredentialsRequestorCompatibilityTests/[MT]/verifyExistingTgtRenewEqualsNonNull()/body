{
  final String service=getServiceUrl();
  final String encodedService=URLEncoder.encode(service,"UTF-8");
  final String nonNullRenewUrl="/login?service=" + encodedService + "&renew=nonnull";
  beginAt("/login");
  setFormElement(FORM_USERNAME,getUsername());
  setFormElement(FORM_PASSWORD,getGoodPassword());
  submit();
  assertCookiePresent(COOKIE_TGC_ID);
  beginAt(nonNullRenewUrl);
  assertFormPresent();
  assertFormElementPresent(LOGIN_TOKEN);
  final String renewSetUrl="/login?service=" + encodedService + "&renew";
  beginAt(renewSetUrl);
  assertFormPresent();
  assertFormElementPresent(LOGIN_TOKEN);
}
