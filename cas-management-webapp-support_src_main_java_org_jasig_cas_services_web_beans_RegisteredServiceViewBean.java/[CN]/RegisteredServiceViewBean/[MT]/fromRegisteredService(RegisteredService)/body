{
  final RegisteredServiceViewBean bean=new RegisteredServiceViewBean();
  bean.setAssignedId(svc.getId());
  bean.setServiceId(svc.getServiceId());
  bean.setName(svc.getName());
  bean.setDescription(svc.getDescription());
  bean.setEvalOrder(svc.getEvaluationOrder());
  if (svc.getLogo() != null) {
    bean.setLogoUrl(svc.getLogo().toExternalForm());
  }
  final RegisteredServiceProxyPolicy policy=svc.getProxyPolicy();
  final RegisteredServiceProxyPolicyBean proxyPolicyBean=bean.getProxyPolicy();
  if (policy instanceof RefuseRegisteredServiceProxyPolicy) {
    final RefuseRegisteredServiceProxyPolicy refuse=(RefuseRegisteredServiceProxyPolicy)policy;
    proxyPolicyBean.setType(RegisteredServiceProxyPolicyBean.Types.REFUSE.toString());
  }
 else   if (policy instanceof RegexMatchingRegisteredServiceProxyPolicy) {
    final RegexMatchingRegisteredServiceProxyPolicy option=(RegexMatchingRegisteredServiceProxyPolicy)policy;
    proxyPolicyBean.setType(RegisteredServiceProxyPolicyBean.Types.REGEX.toString());
    proxyPolicyBean.setValue(option.getPattern().toString());
  }
  final AbstractRegisteredServiceAttributeReleasePolicy attrPolicy=(AbstractRegisteredServiceAttributeReleasePolicy)svc.getAttributeReleasePolicy();
  final RegisteredServiceAttributeReleasePolicyViewBean attrPolicyBean=bean.getAttrRelease();
  if (attrPolicy != null) {
    attrPolicyBean.setReleasePassword(attrPolicy.isAuthorizedToReleaseCredentialPassword());
    attrPolicyBean.setReleaseTicket(attrPolicy.isAuthorizedToReleaseProxyGrantingTicket());
    if (attrPolicy instanceof ReturnAllAttributeReleasePolicy) {
      attrPolicyBean.setAttrPolicy(RegisteredServiceAttributeReleasePolicyStrategyViewBean.Types.ALL.toString());
    }
 else     if (attrPolicy instanceof ReturnAllowedAttributeReleasePolicy) {
      final ReturnAllowedAttributeReleasePolicy attrPolicyAllowed=(ReturnAllowedAttributeReleasePolicy)attrPolicy;
      if (attrPolicyAllowed.getAllowedAttributes().isEmpty()) {
        attrPolicyBean.setAttrPolicy(RegisteredServiceAttributeReleasePolicyStrategyViewBean.Types.NONE.toString());
      }
 else {
        attrPolicyBean.setAttrPolicy(RegisteredServiceAttributeReleasePolicyStrategyViewBean.Types.ALLOWED.toString());
      }
    }
 else     if (attrPolicy instanceof ReturnMappedAttributeReleasePolicy) {
      final ReturnMappedAttributeReleasePolicy attrPolicyAllowed=(ReturnMappedAttributeReleasePolicy)attrPolicy;
      if (attrPolicyAllowed.getAllowedAttributes().isEmpty()) {
        attrPolicyBean.setAttrPolicy(RegisteredServiceAttributeReleasePolicyStrategyViewBean.Types.NONE.toString());
      }
 else {
        attrPolicyBean.setAttrPolicy(RegisteredServiceAttributeReleasePolicyStrategyViewBean.Types.MAPPED.toString());
      }
    }
  }
  bean.setSasCASEnabled(svc.getAccessStrategy().isServiceAccessAllowed());
  return bean;
}
