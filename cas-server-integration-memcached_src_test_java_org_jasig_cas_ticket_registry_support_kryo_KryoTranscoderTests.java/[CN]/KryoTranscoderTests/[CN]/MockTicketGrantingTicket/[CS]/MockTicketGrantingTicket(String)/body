{
  this.id=id;
  final Credential credental=new UsernamePasswordCredential("handymanbob","foo");
  final CredentialMetaData credentialMetaData=new BasicCredentialMetaData(credental);
  final AuthenticationBuilder builder=new AuthenticationBuilder();
  final Map<String,Object> attributes=new HashMap<String,Object>();
  attributes.put("nickname","bob");
  builder.setPrincipal(new SimplePrincipal("handymanbob",attributes));
  builder.setAuthenticationDate(new Date());
  builder.addCredential(credentialMetaData);
  final AuthenticationHandler handler=new MockAuthenticationHandler();
  try {
    builder.addSuccess(handler.getName(),handler.authenticate(credental));
  }
 catch (  final Exception e) {
    throw new RuntimeException(e);
  }
  this.authentication=builder.build();
}
