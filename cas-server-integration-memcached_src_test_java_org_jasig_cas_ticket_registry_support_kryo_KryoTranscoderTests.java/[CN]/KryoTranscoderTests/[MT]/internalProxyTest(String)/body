{
  final RegisteredServiceImpl svc=new RegisteredServiceImpl();
  svc.setServiceId("https://some.app.edu");
  final Credential proxyCredential=new HttpBasedServiceCredential(new URL(proxyUrl),svc);
  final TicketGrantingTicket expectedTGT=new MockTicketGrantingTicket(TGT_ID,proxyCredential,this.principalAttributes);
  expectedTGT.grantServiceTicket(ST_ID,null,null,false,true);
  assertEquals(expectedTGT,transcoder.decode(transcoder.encode(expectedTGT)));
}
