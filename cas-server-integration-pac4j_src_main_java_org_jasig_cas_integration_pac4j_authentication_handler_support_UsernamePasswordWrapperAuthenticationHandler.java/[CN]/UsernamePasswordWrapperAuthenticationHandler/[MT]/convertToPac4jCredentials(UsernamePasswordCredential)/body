{
  logger.debug("CAS credentials: {}",casCredential);
  final UsernamePasswordCredential credential=(UsernamePasswordCredential)casCredential;
  final String username=this.principalNameTransformer.transform(credential.getUsername());
  if (username == null) {
    throw new AccountNotFoundException("Username is null.");
  }
  final String password=this.passwordEncoder.encode(credential.getPassword());
  final UsernamePasswordCredentials credentials=new UsernamePasswordCredentials(username,password,getClass().getSimpleName());
  logger.debug("pac4j credentials: {}",credentials);
  return credentials;
}
