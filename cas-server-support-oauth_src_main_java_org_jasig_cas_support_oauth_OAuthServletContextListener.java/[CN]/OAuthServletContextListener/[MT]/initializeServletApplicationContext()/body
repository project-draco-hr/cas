{
  addControllerToCasServletHandlerMapping(OAuthConstants.ENDPOINT_OAUTH2,"oauth20WrapperController");
  final ReloadableServicesManager servicesManager=getServicesManager();
  final Service callbackService=webApplicationServiceFactory.createService(this.callbackAuthorizeUrl);
  if (!servicesManager.matchesExistingService(callbackService)) {
    final OAuthCallbackAuthorizeService service=new OAuthCallbackAuthorizeService();
    service.setName("OAuth Callback url");
    service.setDescription("OAuth Wrapper Callback Url");
    service.setServiceId(this.callbackAuthorizeUrl);
    addRegisteredServiceToServicesManager(service);
    servicesManager.reload();
  }
}
