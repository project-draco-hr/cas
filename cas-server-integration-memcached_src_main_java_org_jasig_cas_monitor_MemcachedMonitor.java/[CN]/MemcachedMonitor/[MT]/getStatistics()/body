{
  long evictions;
  long size;
  long capacity;
  String name;
  int i=0;
  final Map<SocketAddress,Map<String,String>> allStats=memcachedClient.getStats();
  final SimpleCacheStatistics[] statistics=new SimpleCacheStatistics[allStats.size()];
  for (  final Map.Entry<SocketAddress,Map<String,String>> entry : allStats.entrySet()) {
    size=Long.parseLong(entry.getValue().get("bytes"));
    capacity=Long.parseLong(entry.getValue().get("limit_maxbytes"));
    evictions=Long.parseLong(entry.getValue().get("evictions"));
    statistics[i]=new SimpleCacheStatistics(size,capacity,evictions);
    if (entry.getKey() instanceof InetSocketAddress) {
      name=((InetSocketAddress)entry.getKey()).getHostName();
    }
 else {
      name=entry.getKey().toString();
    }
    statistics[i].setName(name);
    i++;
  }
  return statistics;
}
