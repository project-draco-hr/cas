{
  final String proxyTicket=assertion.getPrincipal().getProxyTicketFor(this.clearPassUrl);
  if (proxyTicket == null) {
    log.error("Unable to obtain proxy ticket for ClearPass service.");
    return;
  }
  final String password=retrievePasswordFromResponse(proxyTicket);
  if (password != null) {
    log.debug("Password retrieved from ClearPass.");
    this.cachedCredentials=password.getBytes();
  }
 else {
    log.debug("Unable to retrieve password from ClearPass.");
  }
}
