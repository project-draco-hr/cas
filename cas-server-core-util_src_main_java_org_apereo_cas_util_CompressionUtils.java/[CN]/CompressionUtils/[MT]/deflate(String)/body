{
  try {
    final Deflater deflater=new Deflater();
    deflater.setInput(data.getBytes(UTF8_ENCODING));
    deflater.finish();
    final byte[] buffer=new byte[data.length()];
    final int resultSize=deflater.deflate(buffer);
    final byte[] output=new byte[resultSize];
    System.arraycopy(buffer,0,output,0,resultSize);
    return EncodingUtils.encodeBase64(output);
  }
 catch (  final UnsupportedEncodingException e) {
    throw new RuntimeException("Cannot find encoding:" + UTF8_ENCODING,e);
  }
}
