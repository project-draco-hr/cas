{
  final ModelAndView modelAndView=this.getModelAndViewUponServiceValidationWithSecurePgtUrl();
  final JstlView v=(JstlView)resolver.resolveViewName(modelAndView.getViewName(),Locale.getDefault());
  final MockHttpServletRequest req=new MockHttpServletRequest(new MockServletContext());
  v.setServletContext(req.getServletContext());
  req.setAttribute(RequestContext.WEB_APPLICATION_CONTEXT_ATTRIBUTE,new GenericWebApplicationContext(req.getServletContext()));
  final Cas30ResponseView view=new Cas30ResponseView(v);
  final MockHttpServletResponse resp=new MockHttpServletResponse();
  view.render(modelAndView.getModel(),req,resp);
  assertNotNull(req.getAttribute(Cas30ResponseView.MODEL_ATTRIBUTE_NAME_ATTRIBUTES));
  assertNotNull(req.getAttribute(Cas30ResponseView.MODEL_ATTRIBUTE_NAME_AUTHENTICATION_DATE));
  assertNotNull(req.getAttribute(Cas30ResponseView.MODEL_ATTRIBUTE_NAME_FROM_NEW_LOGIN));
  assertNotNull(req.getAttribute(CasProtocolConstants.VALIDATION_REMEMBER_ME_ATTRIBUTE_NAME));
}
