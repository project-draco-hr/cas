{
  final CacheCredentialsMetaDataPopulator populator=new CacheCredentialsMetaDataPopulator(this.publicKey);
  final UsernamePasswordCredential c=TestUtils.getCredentialsWithSameUsernameAndPassword();
  final AuthenticationBuilder builder=AuthenticationBuilder.newInstance(TestUtils.getAuthentication());
  populator.populateAttributes(builder,c);
  final Authentication authn=builder.build();
  assertTrue(authn.getAttributes().containsKey(UsernamePasswordCredential.AUTHENTICATION_ATTRIBUTE_PASSWORD));
  assertFalse(authn.getAttributes().get(UsernamePasswordCredential.AUTHENTICATION_ATTRIBUTE_PASSWORD).equals(c.getPassword()));
}
