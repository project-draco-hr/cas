{
  final Authentication a=org.jasig.cas.authentication.TestUtils.getAuthentication();
  final TicketGrantingTicket t=new TicketGrantingTicketImpl("test",org.jasig.cas.authentication.TestUtils.getAuthentication(),new NeverExpiresExpirationPolicy());
  final ServiceTicket s=t.grantServiceTicket(this.uniqueTicketIdGenerator.getNewTicketId(ServiceTicket.PREFIX),org.jasig.cas.services.TestUtils.getService(),new MultiTimeUseOrTimeoutExpirationPolicy(1,5000),false,true);
  s.grantProxyGrantingTicket(this.uniqueTicketIdGenerator.getNewTicketId(TicketGrantingTicket.PREFIX),a,new NeverExpiresExpirationPolicy());
  try {
    s.grantProxyGrantingTicket(this.uniqueTicketIdGenerator.getNewTicketId(TicketGrantingTicket.PREFIX),a,new NeverExpiresExpirationPolicy());
    fail("Exception expected.");
  }
 catch (  final Exception e) {
    return;
  }
}
