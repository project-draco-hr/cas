{
  final Collection<Element> serviceTickets=this.serviceTicketsCache.getAll(this.serviceTicketsCache.getKeysWithExpiryCheck()).values();
  final Collection<Element> tgtTicketsTickets=this.ticketGrantingTicketsCache.getAll(this.ticketGrantingTicketsCache.getKeysWithExpiryCheck()).values();
  final Collection<Ticket> allTickets=new HashSet<>(serviceTickets.size() + tgtTicketsTickets.size());
  for (  final Element ticket : serviceTickets) {
    final Ticket proxiedTicket=getProxiedTicketInstance((Ticket)ticket.getObjectValue());
    allTickets.add(proxiedTicket);
  }
  for (  final Element ticket : tgtTicketsTickets) {
    final Ticket proxiedTicket=getProxiedTicketInstance((Ticket)ticket.getObjectValue());
    allTickets.add(proxiedTicket);
  }
  return decodeTickets(allTickets);
}
