{
  if (ticket == null) {
    return null;
  }
  if (ticket instanceof ProxyGrantingTicket) {
    return new ProxyGrantingTicketDelegator(this,(ProxyGrantingTicket)ticket,needsCallback());
  }
  if (ticket instanceof TicketGrantingTicket) {
    return new TicketGrantingTicketDelegator<>(this,(TicketGrantingTicket)ticket,needsCallback());
  }
  if (ticket instanceof ProxyTicket) {
    return new ProxyTicketDelegator(this,(ProxyTicket)ticket,needsCallback());
  }
  return new ServiceTicketDelegator<>(this,(ServiceTicket)ticket,needsCallback());
}
