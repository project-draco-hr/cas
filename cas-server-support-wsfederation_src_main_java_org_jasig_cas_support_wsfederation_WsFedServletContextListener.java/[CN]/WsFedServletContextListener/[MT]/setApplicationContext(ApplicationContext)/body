{
  try {
    if (applicationContext.getParent() == null) {
      logger.info("Initializing WsFed root application context");
      final Map<AuthenticationHandler,PrincipalResolver> authenticationHandlersResolvers=applicationContext.getBean("authenticationHandlersResolvers",Map.class);
      authenticationHandlersResolvers.put(adfsAuthNHandler,adfsPrincipalResolver);
      logger.info("Initialized WsFed root application context successfully");
    }
 else {
      logger.info("Initializing WsFed application context");
      logger.info("Initialized WsFed application context successfully");
    }
  }
 catch (  final Exception e) {
    logger.error(e.getMessage(),e);
  }
}
