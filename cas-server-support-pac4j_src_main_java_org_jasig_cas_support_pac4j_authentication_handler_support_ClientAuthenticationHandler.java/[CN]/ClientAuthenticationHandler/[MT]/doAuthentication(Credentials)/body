{
  final ClientCredentials clientCredentials=(ClientCredentials)credentials;
  logger.debug("clientCredentials : {}",clientCredentials);
  final String clientName=clientCredentials.getCredentials().getClientName();
  logger.debug("clientName : {}",clientName);
  final Client<org.pac4j.core.credentials.Credentials,UserProfile> client=this.clients.findClient(clientName);
  logger.debug("client : {}",client);
  final UserProfile userProfile=client.getUserProfile(clientCredentials.getCredentials());
  logger.debug("userProfile : {}",userProfile);
  if (userProfile != null && StringUtils.isNotBlank(userProfile.getId())) {
    clientCredentials.setUserProfile(userProfile);
    return true;
  }
  return false;
}
