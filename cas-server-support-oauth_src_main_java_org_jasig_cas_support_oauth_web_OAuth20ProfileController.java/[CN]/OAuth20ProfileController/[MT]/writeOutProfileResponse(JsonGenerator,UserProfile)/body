{
  final String id=profile.getId();
  final Map<String,Object> attributes=new HashMap<>(profile.getAttributes());
  attributes.remove(JwtConstants.SUBJECT);
  attributes.remove(JwtConstants.ISSUE_TIME);
  attributes.remove(JwtConstants.AUDIENCE);
  attributes.remove(JwtConstants.EXPIRATION_TIME);
  attributes.remove(JwtConstants.ISSUER);
  jsonGenerator.writeStartObject();
  jsonGenerator.writeStringField(ID,id);
  jsonGenerator.writeArrayFieldStart(ATTRIBUTES);
  for (  final String key : attributes.keySet()) {
    jsonGenerator.writeStartObject();
    jsonGenerator.writeObjectField(key,attributes.get(key));
    jsonGenerator.writeEndObject();
  }
  jsonGenerator.writeEndArray();
  jsonGenerator.writeEndObject();
}
