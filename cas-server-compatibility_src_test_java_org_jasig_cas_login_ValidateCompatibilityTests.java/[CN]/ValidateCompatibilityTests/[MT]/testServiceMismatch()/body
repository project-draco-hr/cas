{
  final String loginService="http://www.rutgers.edu";
  final String validateService="http://www.yale.edu";
  beginAt("/login?service=" + URLEncoder.encode(loginService,"UTF-8"));
  setFormElement("username",getUsername());
  setFormElement("password",getGoodPassword());
  submit();
  HttpUnitDialog htDialog=getDialog();
  String serviceTicket=LoginHelper.serviceTicketFromResponse(htDialog.getResponse());
  beginAt("/validate?service=" + URLEncoder.encode(validateService,"UTF-8") + "&ticket="+ serviceTicket);
  assertTextPresent("no");
  htDialog=getDialog();
  String validateOutput=htDialog.getResponseText();
  assertEquals(LEGACY_NO_RESPONSE,validateOutput);
  beginAt("/validate?service=" + URLEncoder.encode(loginService,"UTF-8") + "&ticket="+ serviceTicket);
  htDialog=getDialog();
  String secondValidateOutput=htDialog.getResponseText();
  assertEquals(LEGACY_NO_RESPONSE,secondValidateOutput);
}
