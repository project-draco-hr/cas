{
  String username;
  for (  final LdapEntry entry : this.testEntries) {
    username=getUsername(entry);
    final HandlerResult result=this.handler.authenticate(new UsernamePasswordCredential(username,LdapTestUtils.getPassword(entry)));
    assertNotNull(result.getPrincipal());
    assertEquals(username,result.getPrincipal().getId());
    assertEquals(entry.getAttribute("displayName").getStringValue(),result.getPrincipal().getAttributes().get("displayName"));
    assertEquals(entry.getAttribute("mail").getStringValue(),result.getPrincipal().getAttributes().get("mail"));
  }
}
