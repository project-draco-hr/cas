{
  final HttpBasedServiceCredentials serviceCredentials=(HttpBasedServiceCredentials)credentials;
  if (this.requireSecure && !serviceCredentials.getCallbackUrl().getProtocol().equals(PROTOCOL_HTTPS)) {
    logger.debug("Authentication failed because url was not secure.");
    return false;
  }
  logger.debug("Attempting to resolve credentials for {}",serviceCredentials);
  return this.httpClient.isValidEndPoint(serviceCredentials.getCallbackUrl());
}
