{
  getAuthenticationTransactionManager().processAuthenticationAttempt(org.jasig.cas.authentication.TestUtils.getCredentialsWithSameUsernameAndPassword());
  final AuthenticationContext ctx=getAuthenticationTransactionManager().build();
  final TicketGrantingTicket tId=getCentralAuthenticationService().createTicketGrantingTicket(ctx);
  getCentralAuthenticationService().grantServiceTicket(tId.getId(),org.jasig.cas.authentication.TestUtils.getService(),ctx);
  final ServiceTicket sId2=getCentralAuthenticationService().grantServiceTicket(tId.getId(),org.jasig.cas.authentication.TestUtils.getService(),ctx);
  final MockHttpServletRequest request=new MockHttpServletRequest();
  request.addParameter("service",org.jasig.cas.authentication.TestUtils.getService().getId());
  request.addParameter("ticket",sId2.getId());
  request.addParameter("renew","true");
  return request;
}
