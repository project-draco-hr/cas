{
  final AuthenticationContext ctx=getAuthenticationContext(SERVICE,org.jasig.cas.authentication.TestUtils.getCredentialsWithSameUsernameAndPassword());
  final TicketGrantingTicket tId=getCentralAuthenticationService().createTicketGrantingTicket(ctx);
  final ServiceTicket sId=getCentralAuthenticationService().grantServiceTicket(tId.getId(),SERVICE,ctx);
  getCentralAuthenticationService().destroyTicketGrantingTicket(tId.getId());
  final MockHttpServletRequest request=new MockHttpServletRequest();
  request.addParameter("service",SERVICE.getId());
  request.addParameter("ticket",sId.getId());
  assertEquals(AbstractServiceValidateController.DEFAULT_SERVICE_FAILURE_VIEW_NAME,this.serviceValidateController.handleRequestInternal(request,new MockHttpServletResponse()).getViewName());
}
