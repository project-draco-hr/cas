{
  try {
    final String exceptionCode=e.getCode();
    final MessageBuilder messageBuilder=new MessageBuilder().error().code(exceptionCode);
    messageContext.addMessage(messageBuilder.build());
  }
 catch (  final NoSuchMessageException ex) {
    final String defaultCode=BadCredentialsAuthenticationException.CODE;
    logger.debug("Could not locate the message based on the exception code. Reverting back to default exception code [{}]",defaultCode);
    messageContext.addMessage(new MessageBuilder().error().code(defaultCode).defaultText("The exception code could not be located for " + defaultCode).build());
  }
catch (  final Exception fe) {
    logger.error(fe.getMessage(),fe);
  }
}
