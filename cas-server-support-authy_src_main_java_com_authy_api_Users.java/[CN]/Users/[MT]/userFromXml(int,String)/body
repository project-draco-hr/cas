{
  com.authy.api.User user=new com.authy.api.User();
  try {
    Error error=errorFromXml(status,content);
    if (error == null) {
      JAXBContext context=JAXBContext.newInstance(Hash.class);
      Unmarshaller unmarshaller=context.createUnmarshaller();
      StringReader xml=new StringReader(content);
      Hash hash=(Hash)unmarshaller.unmarshal(new StreamSource(xml));
      hash.setStatus(status);
      user=hash.getUser();
    }
    user.setError(error);
    user.setStatus(status);
  }
 catch (  JAXBException e) {
    logger.error(e.getMessage(),e);
  }
  return user;
}
