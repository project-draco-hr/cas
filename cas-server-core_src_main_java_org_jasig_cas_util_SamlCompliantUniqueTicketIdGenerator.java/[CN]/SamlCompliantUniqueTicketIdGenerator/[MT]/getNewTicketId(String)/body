{
  if (saml2compliant) {
    return new SAML2ArtifactType0004(ENDPOINT_ID,newAssertionHandle(),sourceIdDigest).base64Encode();
  }
 else {
    return new SAML1ArtifactType0001(this.sourceIdDigest,newAssertionHandle()).base64Encode();
  }
}
