{
  try {
    WebUtils.putWarnCookieIfRequestParameterPresent(this.warnCookieGenerator,context);
    WebUtils.putPublicWorkstationToFlowIfRequestParameterPresent(context);
    final AuthenticationResultBuilder authenticationResult=this.authenticationSystemSupport.handleInitialAuthenticationTransaction(credential);
    return this.authenticationContextWebflowEventResolver.resolve(authenticationResult,context,messageContext);
  }
 catch (  final AuthenticationException e) {
    logger.debug(e.getMessage(),e);
    return newEvent(AUTHENTICATION_FAILURE,e);
  }
catch (  final Exception e) {
    logger.debug(e.getMessage(),e);
    return newEvent(AbstractCasWebflowConfigurer.TRANSITION_ID_ERROR,e);
  }
}
