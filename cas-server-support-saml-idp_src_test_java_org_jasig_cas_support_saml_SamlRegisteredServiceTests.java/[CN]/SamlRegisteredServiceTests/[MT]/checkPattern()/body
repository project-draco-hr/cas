{
  final SamlRegisteredService service=new SamlRegisteredService();
  service.setName("SAMLService");
  service.setServiceId("^http://.+");
  service.setMetadataLocation("/Users/Misagh/Workspace/GitWorkspace/shibboleth-sample-java-sp/src/main/resources/metadata/sp-metadata.xml");
  service.setSignAssertions(true);
  final InMemoryServiceRegistryDaoImpl dao=new InMemoryServiceRegistryDaoImpl();
  dao.setRegisteredServices(Arrays.asList(service));
  final DefaultServicesManagerImpl impl=new DefaultServicesManagerImpl(dao);
  final RegisteredService s=impl.findServiceBy(new WebApplicationServiceFactory().createService("http://mmoayyed.unicon.net:8081/sp/saml/SSO"));
  System.out.println(s);
}
