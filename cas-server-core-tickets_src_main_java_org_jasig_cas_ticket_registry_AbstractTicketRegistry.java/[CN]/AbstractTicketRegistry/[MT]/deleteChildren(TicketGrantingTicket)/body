{
  final Map<String,Service> services=ticket.getServices();
  if (services != null && !services.isEmpty()) {
    for (    final Map.Entry<String,Service> entry : services.entrySet()) {
      final String ticketId=entry.getKey();
      if (deleteSingleTicket(ticketId)) {
        logger.debug("Removed ticket [{}]",entry.getKey());
      }
 else {
        logger.debug("Unable to remove ticket [{}]",entry.getKey());
      }
    }
  }
  final Collection<ProxyGrantingTicket> proxyGrantingTickets=ticket.getProxyGrantingTickets();
  for (  final ProxyGrantingTicket proxyGrantingTicket : proxyGrantingTickets) {
    logger.debug("Removing proxy-granting ticket [{}]",proxyGrantingTicket.getId());
    deleteTicket(proxyGrantingTicket.getId());
  }
}
