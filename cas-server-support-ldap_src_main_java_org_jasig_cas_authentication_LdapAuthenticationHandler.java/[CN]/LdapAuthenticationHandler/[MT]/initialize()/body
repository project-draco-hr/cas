{
  final Set<String> attributes=new HashSet<>();
  if (this.principalIdAttribute != null) {
    attributes.add(this.principalIdAttribute);
  }
  if (!this.principalAttributeMap.isEmpty()) {
    attributes.addAll(this.principalAttributeMap.keySet());
  }
  if (!this.additionalAttributes.isEmpty()) {
    attributes.addAll(this.additionalAttributes);
  }
  if (!attributes.isEmpty()) {
    this.authenticatedEntryAttributes=attributes.toArray(new String[attributes.size()]);
  }
}
