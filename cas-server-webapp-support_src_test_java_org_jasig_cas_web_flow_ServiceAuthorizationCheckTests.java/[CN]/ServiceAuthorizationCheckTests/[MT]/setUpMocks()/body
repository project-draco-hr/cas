{
  final RegisteredServiceImpl authorizedRegisteredService=new RegisteredServiceImpl();
  final RegisteredServiceImpl unauthorizedRegisteredService=new RegisteredServiceImpl();
  unauthorizedRegisteredService.setAuthorizationStrategy(new DefaultRegisteredServiceAccessStrategy(false,false));
  final List<RegisteredService> list=new ArrayList<>();
  list.add(authorizedRegisteredService);
  list.add(unauthorizedRegisteredService);
  when(this.servicesManager.findServiceBy(this.authorizedService)).thenReturn(authorizedRegisteredService);
  when(this.servicesManager.findServiceBy(this.unauthorizedService)).thenReturn(unauthorizedRegisteredService);
  when(this.servicesManager.findServiceBy(this.undefinedService)).thenReturn(null);
  when(this.servicesManager.getAllServices()).thenReturn(list);
  this.serviceAuthorizationCheck=new ServiceAuthorizationCheck(this.servicesManager);
}
