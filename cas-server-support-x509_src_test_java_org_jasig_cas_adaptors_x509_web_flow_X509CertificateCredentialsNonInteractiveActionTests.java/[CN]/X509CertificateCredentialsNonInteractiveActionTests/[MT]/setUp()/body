{
  this.action=new X509CertificateCredentialsNonInteractiveAction();
  final X509CredentialsAuthenticationHandler handler=new X509CredentialsAuthenticationHandler();
  handler.setTrustedIssuerDnPattern("CN=\\w+,DC=jasig,DC=org");
  final AuthenticationManager authenticationManager=new PolicyBasedAuthenticationManager(Collections.<AuthenticationHandler,PrincipalResolver>singletonMap(handler,new X509SerialNumberPrincipalResolver()));
  final AbstractCentralAuthenticationService centralAuthenticationService=(AbstractCentralAuthenticationService)getCentralAuthenticationService();
  this.action.setCentralAuthenticationService(centralAuthenticationService);
  final DefaultAuthenticationSupervisor supervisor=(DefaultAuthenticationSupervisor)getAuthenticationSupervisor();
  supervisor.setAuthenticationManager(authenticationManager);
  this.action.setAuthenticationSupervisor(supervisor);
}
